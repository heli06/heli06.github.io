<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>编译技术上机题不完全汇总（Java版） | 鸑鷟的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="说在前面的话编译技术上机终于结束了。因为自己对于编译实在是没什么兴趣，上机的代码写得也不算太齐全，有时候检查松就浑水摸鱼混过去了。挑出几份写的还算像样的贴出来吧。
以下代码都是Java语言写的，也顺便熟悉一下对Java语言的运用。
相关代码已经上传至码云，点击查看">
<meta property="og:type" content="article">
<meta property="og:title" content="编译技术上机题不完全汇总（Java版）">
<meta property="og:url" content="http://heli06.github.io/category/编译技术上机题不完全汇总（Java版）/index.html">
<meta property="og:site_name" content="鸑鷟的博客">
<meta property="og:description" content="说在前面的话编译技术上机终于结束了。因为自己对于编译实在是没什么兴趣，上机的代码写得也不算太齐全，有时候检查松就浑水摸鱼混过去了。挑出几份写的还算像样的贴出来吧。
以下代码都是Java语言写的，也顺便熟悉一下对Java语言的运用。
相关代码已经上传至码云，点击查看">
<meta property="og:updated_time" content="2017-11-27T13:36:19.148Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="编译技术上机题不完全汇总（Java版）">
<meta name="twitter:description" content="说在前面的话编译技术上机终于结束了。因为自己对于编译实在是没什么兴趣，上机的代码写得也不算太齐全，有时候检查松就浑水摸鱼混过去了。挑出几份写的还算像样的贴出来吧。
以下代码都是Java语言写的，也顺便熟悉一下对Java语言的运用。
相关代码已经上传至码云，点击查看">
  
    <link rel="alternative" href="/atom.xml" title="鸑鷟的博客" type="application/atom+xml">
  
  
    <link rel="icon" href="//favicon.png">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img src="/img/touxiang.jpg" class="js-avatar show">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">鸑鷟</a></h1>
		</hgroup>

		
		<p class="header-subtitle">蛟龙虽困，不资凡鱼。鸑鷟虽孤，不匹鹜雏。</p>
		

		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
							<li><a href="/tags/技术研究/">技术研究</a></li>
				        
							<li><a href="/tags/项目/">项目</a></li>
				        
							<li><a href="/tags/文学/">文学</a></li>
				        
							<li><a href="/about">关于我</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
						</div>
					</nav>
				</section>
				
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">奥巴马的博客</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">卡卡的美丽传说</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">本泽马的博客</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">吉格斯的博客</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">习大大大不同</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">托蒂的博客</a>
			        
			        </div>
				</section>
				

				
				
				<section class="switch-part switch-part4">
				
					<div id="js-aboutme">大连理工大学2015年入学，软件工程（日语强化）本科在读，新手WEB前端</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">鸑鷟</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				
					<img lazy-src="null/img/touxiang.jpg" class="js-avatar">
				
			</div>
			<hgroup>
			  <h1 class="header-author">鸑鷟</h1>
			</hgroup>
			
			<p class="header-subtitle">蛟龙虽困，不资凡鱼。鸑鷟虽孤，不匹鹜雏。</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
					<li><a href="/tags/技术研究/">技术研究</a></li>
		        
					<li><a href="/tags/项目/">项目</a></li>
		        
					<li><a href="/tags/文学/">文学</a></li>
		        
					<li><a href="/about">关于我</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap"><article id="post-编译技术上机题不完全汇总（Java版）" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/category/编译技术上机题不完全汇总（Java版）/" class="article-date">
  	<time datetime="2017-11-27T13:10:23.000Z" itemprop="datePublished">2017-11-27</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      编译技术上机题不完全汇总（Java版）
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/技术研究/">技术研究</a></li></ul>
	</div>

        

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="说在前面的话"><a href="#说在前面的话" class="headerlink" title="说在前面的话"></a>说在前面的话</h3><p>编译技术上机终于结束了。因为自己对于编译实在是没什么兴趣，上机的代码写得也不算太齐全，有时候检查松就浑水摸鱼混过去了。挑出几份写的还算像样的贴出来吧。</p>
<p>以下代码都是Java语言写的，也顺便熟悉一下对Java语言的运用。</p>
<p>相关代码已经上传至码云，<a href="https://gitee.com/yuezhuo/CompileAndDataStructureQuestion" target="_blank" rel="external">点击查看</a></p>
<a id="more"></a>
<hr>
<h3 id="LL1语法分析器"><a href="#LL1语法分析器" class="headerlink" title="LL1语法分析器"></a>LL1语法分析器</h3><p>该程序使用的是递归下降方式，对应以下文法：<br>E -&gt; TE’<br>E’ -&gt; +TE’|空串<br>T -&gt; FT’<br>T’ -&gt; *FT’|空串<br>F -&gt; (E)|id</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.Scanner;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LL1</span> </span>&#123;</div><div class="line">    <span class="keyword">private</span> String lookahead = <span class="string">""</span>;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">int</span> counter = <span class="number">0</span>;</div><div class="line">    <span class="keyword">private</span> String[] inputStr = <span class="keyword">null</span>;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> isSuccess = <span class="keyword">true</span>;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">getIsSuccess</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> isSuccess &amp;&amp; (counter == inputStr.length-<span class="number">2</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">start</span><span class="params">()</span> </span>&#123;</div><div class="line">        E();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="title">LL1</span><span class="params">()</span> </span>&#123;</div><div class="line">        Scanner input = <span class="keyword">new</span> Scanner(System.in);</div><div class="line">        inputStr = input.nextLine().split(<span class="string">" "</span>);</div><div class="line">        lookahead = inputStr[<span class="number">0</span>];</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">private</span> String <span class="title">nextToken</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> (inputStr[counter+<span class="number">1</span>].equals(<span class="string">"#"</span>)) ? <span class="string">""</span> : inputStr[++counter];</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">error</span><span class="params">()</span> </span>&#123;</div><div class="line">        isSuccess = <span class="keyword">false</span>;</div><div class="line"></div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">match</span><span class="params">(String t)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (lookahead.equals(t)) &#123;</div><div class="line">            System.out.println(<span class="string">"match "</span> + t);</div><div class="line">            lookahead = nextToken();</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span></div><div class="line">            error();</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">E</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (lookahead.equals(<span class="string">"("</span>) || lookahead.equals(<span class="string">"id"</span>)) &#123;</div><div class="line">            System.out.println(<span class="string">"E-&gt;TE'"</span>);</div><div class="line">            T();</div><div class="line">            E_();</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">E_</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (lookahead.equals(<span class="string">"+"</span>)) &#123;</div><div class="line">            System.out.println(<span class="string">"E'-&gt;+TE'"</span>);</div><div class="line">            match(<span class="string">"+"</span>);</div><div class="line">            T();</div><div class="line">            E_();</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            System.out.println(<span class="string">"E'-&gt;null"</span>);</div><div class="line">            <span class="comment">//match("");</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">T</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (lookahead.equals(<span class="string">"("</span>) || lookahead.equals(<span class="string">"id"</span>)) &#123;</div><div class="line">            System.out.println(<span class="string">"T-&gt;FT'"</span>);</div><div class="line">            F();</div><div class="line">            T_();</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">T_</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (lookahead.equals(<span class="string">"*"</span>)) &#123;</div><div class="line">            System.out.println(<span class="string">"T'-&gt;*FT'"</span>);</div><div class="line">            match(<span class="string">"*"</span>);</div><div class="line">            F();</div><div class="line">            T_();</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            System.out.println(<span class="string">"T'-&gt;null"</span>);</div><div class="line">            <span class="comment">//match("");</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">F</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (lookahead.equals(<span class="string">"("</span>)) &#123;</div><div class="line">            System.out.println(<span class="string">"F-&gt;(E)"</span>);</div><div class="line">            match(<span class="string">"("</span>)</div><div class="line">            ;E();</div><div class="line">            match(<span class="string">")"</span>);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(lookahead.equals(<span class="string">"id"</span>)) &#123;</div><div class="line">            System.out.println(<span class="string">"F-&gt;id"</span>);</div><div class="line">            match(<span class="string">"id"</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">        LL1 ll = <span class="keyword">new</span> LL1();</div><div class="line">        ll.start();</div><div class="line">        <span class="keyword">if</span> (ll.getIsSuccess())</div><div class="line">            System.out.println(<span class="string">"SUCCESS"</span>);</div><div class="line">        <span class="keyword">else</span></div><div class="line">            System.out.println(<span class="string">"ERROR"</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<h3 id="LR语法分析器"><a href="#LR语法分析器" class="headerlink" title="LR语法分析器"></a>LR语法分析器</h3><p>该程序事先需要手工构造action表和goto表，对应以下文法：<br>E -&gt; E+T | T<br>T -&gt; T*F | F<br>F -&gt; (E) | id</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.*;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LR</span> </span>&#123;</div><div class="line">    <span class="keyword">private</span> String[] inputStr = <span class="keyword">null</span>;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">int</span> counter = <span class="number">0</span>;</div><div class="line">    <span class="keyword">private</span> String [][] expression = &#123;</div><div class="line">            &#123;<span class="string">" "</span>, <span class="string">""</span>&#125;,</div><div class="line">            &#123;<span class="string">"E"</span>, <span class="string">"E+T"</span>&#125;,</div><div class="line">            &#123;<span class="string">"E"</span>, <span class="string">"T"</span>&#125;,</div><div class="line">            &#123;<span class="string">"T"</span>, <span class="string">"T*F"</span>&#125;,</div><div class="line">            &#123;<span class="string">"T"</span>, <span class="string">"F"</span>&#125;,</div><div class="line">            &#123;<span class="string">"F"</span>, <span class="string">"(E)"</span>&#125;,</div><div class="line">            &#123;<span class="string">"F"</span>, <span class="string">"@"</span>&#125;</div><div class="line">    &#125;;</div><div class="line">    <span class="keyword">private</span> String[][] action = &#123;</div><div class="line">            &#123;<span class="string">"s 5"</span>, <span class="string">"err"</span>, <span class="string">"err"</span>, <span class="string">"s 4"</span>, <span class="string">"err"</span>, <span class="string">"err"</span>&#125;,</div><div class="line">            &#123;<span class="string">"err"</span>, <span class="string">"s 6"</span>, <span class="string">"err"</span>, <span class="string">"err"</span>, <span class="string">"err"</span>, <span class="string">"acc"</span>&#125;,</div><div class="line">            &#123;<span class="string">"err"</span>, <span class="string">"r 2"</span>, <span class="string">"s 7"</span>, <span class="string">"err"</span>, <span class="string">"r 2"</span>, <span class="string">"r 2"</span>&#125;,</div><div class="line">            &#123;<span class="string">"err"</span>, <span class="string">"r 4"</span>, <span class="string">"r 4"</span>, <span class="string">"err"</span>, <span class="string">"r 4"</span>, <span class="string">"r 4"</span>&#125;,</div><div class="line">            &#123;<span class="string">"s 5"</span>, <span class="string">"err"</span>, <span class="string">"err"</span>, <span class="string">"s 4"</span>, <span class="string">"err"</span>, <span class="string">"err"</span>&#125;,</div><div class="line">            &#123;<span class="string">"err"</span>, <span class="string">"r 6"</span>, <span class="string">"r 6"</span>, <span class="string">"err"</span>, <span class="string">"r 6"</span>, <span class="string">"r 6"</span>&#125;,</div><div class="line">            &#123;<span class="string">"s 5"</span>, <span class="string">"err"</span>, <span class="string">"err"</span>, <span class="string">"s 4"</span>, <span class="string">"err"</span>, <span class="string">"err"</span>&#125;,</div><div class="line">            &#123;<span class="string">"s 5"</span>, <span class="string">"err"</span>, <span class="string">"err"</span>, <span class="string">"s 4"</span>, <span class="string">"err"</span>, <span class="string">"err"</span>&#125;,</div><div class="line">            &#123;<span class="string">"err"</span>, <span class="string">"s 6"</span>, <span class="string">"err"</span>, <span class="string">"err"</span>, <span class="string">"s 11"</span>, <span class="string">"err"</span>&#125;,</div><div class="line">            &#123;<span class="string">"err"</span>, <span class="string">"r 1"</span>, <span class="string">"s 7"</span>, <span class="string">"err"</span>, <span class="string">"r 1"</span>, <span class="string">"r 1"</span>&#125;,</div><div class="line">            &#123;<span class="string">"err"</span>, <span class="string">"r 3"</span>, <span class="string">"r 3"</span>, <span class="string">"err"</span>, <span class="string">"r 3"</span>, <span class="string">"r 3"</span>&#125;,</div><div class="line">            &#123;<span class="string">"err"</span>, <span class="string">"r 5"</span>, <span class="string">"r 5"</span>, <span class="string">"err"</span>, <span class="string">"r 5"</span>, <span class="string">"r 5"</span>&#125;</div><div class="line">    &#125;;</div><div class="line">    LR() &#123;</div><div class="line">        Scanner input = <span class="keyword">new</span> Scanner(System.in);</div><div class="line">        inputStr = input.nextLine().split(<span class="string">" "</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">getA</span><span class="params">(String str)</span> </span>&#123;</div><div class="line">        <span class="keyword">switch</span> (str) &#123;</div><div class="line">            <span class="keyword">case</span> <span class="string">"id"</span>: <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">            <span class="keyword">case</span> <span class="string">"+"</span>: <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">            <span class="keyword">case</span> <span class="string">"*"</span>: <span class="keyword">return</span> <span class="number">2</span>;</div><div class="line">            <span class="keyword">case</span> <span class="string">"("</span>: <span class="keyword">return</span> <span class="number">3</span>;</div><div class="line">            <span class="keyword">case</span> <span class="string">")"</span>: <span class="keyword">return</span> <span class="number">4</span>;</div><div class="line">            <span class="keyword">default</span>: <span class="keyword">return</span> <span class="number">5</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">private</span> String[][] goTo = &#123;</div><div class="line">            &#123;<span class="string">"1"</span>, <span class="string">"2"</span>, <span class="string">"3"</span>&#125;,</div><div class="line">            &#123;<span class="string">"err"</span>, <span class="string">"err"</span>, <span class="string">"err"</span>&#125;,</div><div class="line">            &#123;<span class="string">"err"</span>, <span class="string">"err"</span>, <span class="string">"err"</span>&#125;,</div><div class="line">            &#123;<span class="string">"err"</span>, <span class="string">"err"</span>, <span class="string">"err"</span>&#125;,</div><div class="line">            &#123;<span class="string">"8"</span>, <span class="string">"2"</span>, <span class="string">"3"</span>&#125;,</div><div class="line">            &#123;<span class="string">"err"</span>, <span class="string">"err"</span>, <span class="string">"err"</span>&#125;,</div><div class="line">            &#123;<span class="string">"err"</span>, <span class="string">"9"</span>, <span class="string">"3"</span>&#125;,</div><div class="line">            &#123;<span class="string">"err"</span>, <span class="string">"err"</span>, <span class="string">"10"</span>&#125;,</div><div class="line">            &#123;<span class="string">"err"</span>, <span class="string">"err"</span>, <span class="string">"err"</span>&#125;,</div><div class="line">            &#123;<span class="string">"err"</span>, <span class="string">"err"</span>, <span class="string">"err"</span>&#125;,</div><div class="line">            &#123;<span class="string">"err"</span>, <span class="string">"err"</span>, <span class="string">"err"</span>&#125;,</div><div class="line">            &#123;<span class="string">"err"</span>, <span class="string">"err"</span>, <span class="string">"err"</span>&#125;,</div><div class="line">    &#125;;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">getIndex</span><span class="params">(String str)</span> </span>&#123;</div><div class="line">        <span class="keyword">switch</span> (str) &#123;</div><div class="line">            <span class="keyword">case</span> <span class="string">"E"</span>: <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">            <span class="keyword">case</span> <span class="string">"T"</span>: <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">            <span class="keyword">default</span>: <span class="keyword">return</span> <span class="number">2</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">private</span> LinkedList&lt;String&gt; stack = <span class="keyword">new</span> LinkedList&lt;&gt;();</div><div class="line">    <span class="function"><span class="keyword">private</span> String <span class="title">getNextString</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> inputStr[counter++];</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</div><div class="line">        String tempStr = expression[index][<span class="number">0</span>] + <span class="string">"-&gt;"</span> + expression[index][<span class="number">1</span>];</div><div class="line">        System.out.println(<span class="string">"按"</span> + tempStr.replaceFirst(<span class="string">"@"</span>, <span class="string">"id"</span>) + <span class="string">"规约"</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">analysis</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="comment">//令next的值为第一个符号</span></div><div class="line">        String next = getNextString();</div><div class="line">        <span class="comment">//初始化栈</span></div><div class="line">        stack.addLast(<span class="string">"0"</span>);</div><div class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</div><div class="line">            <span class="comment">//令state为栈顶的状态</span></div><div class="line">            <span class="keyword">int</span> state = Integer.parseInt(stack.getLast());</div><div class="line">            String[] tempArray = action[state][getA(next)].split(<span class="string">" "</span>);</div><div class="line">            <span class="comment">//如果为移进动作</span></div><div class="line">            <span class="keyword">if</span> (tempArray[<span class="number">0</span>].equals(<span class="string">"s"</span>)) &#123;</div><div class="line">                System.out.println(<span class="string">"移进"</span>);</div><div class="line">                <span class="comment">//把next和新状态依次压入栈</span></div><div class="line">                stack.addLast(next);</div><div class="line">                stack.addLast(tempArray[<span class="number">1</span>]);</div><div class="line">                <span class="comment">//令next是下一个输入符号</span></div><div class="line">                next = getNextString();</div><div class="line">                <span class="comment">//如果为规约动作</span></div><div class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (tempArray[<span class="number">0</span>].equals(<span class="string">"r"</span>)) &#123;</div><div class="line">                <span class="comment">//栈顶退掉两倍的符号</span></div><div class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">2</span>*expression[Integer.parseInt(tempArray[<span class="number">1</span>])][<span class="number">1</span>].length(); i++) &#123;</div><div class="line">                    stack.removeLast();</div><div class="line">                &#125;</div><div class="line">                <span class="comment">//令temp是现在的栈顶状态</span></div><div class="line">                <span class="keyword">int</span> temp = Integer.parseInt(stack.getLast());</div><div class="line">                <span class="comment">//把非终结符和新状态压入栈</span></div><div class="line">                stack.addLast(expression[Integer.parseInt(tempArray[<span class="number">1</span>])][<span class="number">0</span>]);</div><div class="line">                stack.addLast(goTo[temp][getIndex(expression[Integer.parseInt(tempArray[<span class="number">1</span>])][<span class="number">0</span>])]);</div><div class="line">                <span class="comment">//输出产生式</span></div><div class="line">                print(Integer.parseInt(tempArray[<span class="number">1</span>]));</div><div class="line"></div><div class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (tempArray[<span class="number">0</span>].equals(<span class="string">"acc"</span>)) &#123;</div><div class="line">                System.out.println(<span class="string">"接受"</span>);</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            &#125;<span class="keyword">else</span> &#123;</div><div class="line">                System.out.println(<span class="string">"ERROR"</span>);</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">        LR lr = <span class="keyword">new</span> LR();</div><div class="line">        lr.analysis();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<h3 id="基于LR语法分析器的语法制导翻译"><a href="#基于LR语法分析器的语法制导翻译" class="headerlink" title="基于LR语法分析器的语法制导翻译"></a>基于LR语法分析器的语法制导翻译</h3><p>文法同之前的LR分析器。程序结构大体类似。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.*;</div><div class="line"><span class="keyword">import</span> java.util.regex.Matcher;</div><div class="line"><span class="keyword">import</span> java.util.regex.Pattern;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LRS</span> </span>&#123;</div><div class="line">    <span class="class"><span class="keyword">class</span> <span class="title">StateVal</span> </span>&#123;</div><div class="line">        String state;</div><div class="line">        String val;</div><div class="line">        StateVal(String state, String value) &#123;</div><div class="line">            <span class="keyword">this</span>.state = state;</div><div class="line">            <span class="keyword">this</span>.val = value;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">private</span> String[] inputStr = <span class="keyword">null</span>;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">int</span> counter = <span class="number">0</span>;</div><div class="line">    <span class="keyword">private</span> String [][] expression = &#123;</div><div class="line">            &#123;<span class="string">" "</span>, <span class="string">""</span>&#125;,</div><div class="line">            &#123;<span class="string">"E"</span>, <span class="string">"E+T"</span>&#125;,</div><div class="line">            &#123;<span class="string">"E"</span>, <span class="string">"T"</span>&#125;,</div><div class="line">            &#123;<span class="string">"T"</span>, <span class="string">"T*F"</span>&#125;,</div><div class="line">            &#123;<span class="string">"T"</span>, <span class="string">"F"</span>&#125;,</div><div class="line">            &#123;<span class="string">"F"</span>, <span class="string">"(E)"</span>&#125;,</div><div class="line">            &#123;<span class="string">"F"</span>, <span class="string">"@"</span>&#125;</div><div class="line">    &#125;;</div><div class="line">    <span class="keyword">private</span> String[][] action = &#123;</div><div class="line">            &#123;<span class="string">"s 5"</span>, <span class="string">"err"</span>, <span class="string">"err"</span>, <span class="string">"s 4"</span>, <span class="string">"err"</span>, <span class="string">"err"</span>&#125;,</div><div class="line">            &#123;<span class="string">"err"</span>, <span class="string">"s 6"</span>, <span class="string">"err"</span>, <span class="string">"err"</span>, <span class="string">"err"</span>, <span class="string">"acc"</span>&#125;,</div><div class="line">            &#123;<span class="string">"err"</span>, <span class="string">"r 2"</span>, <span class="string">"s 7"</span>, <span class="string">"err"</span>, <span class="string">"r 2"</span>, <span class="string">"r 2"</span>&#125;,</div><div class="line">            &#123;<span class="string">"err"</span>, <span class="string">"r 4"</span>, <span class="string">"r 4"</span>, <span class="string">"err"</span>, <span class="string">"r 4"</span>, <span class="string">"r 4"</span>&#125;,</div><div class="line">            &#123;<span class="string">"s 5"</span>, <span class="string">"err"</span>, <span class="string">"err"</span>, <span class="string">"s 4"</span>, <span class="string">"err"</span>, <span class="string">"err"</span>&#125;,</div><div class="line">            &#123;<span class="string">"err"</span>, <span class="string">"r 6"</span>, <span class="string">"r 6"</span>, <span class="string">"err"</span>, <span class="string">"r 6"</span>, <span class="string">"r 6"</span>&#125;,</div><div class="line">            &#123;<span class="string">"s 5"</span>, <span class="string">"err"</span>, <span class="string">"err"</span>, <span class="string">"s 4"</span>, <span class="string">"err"</span>, <span class="string">"err"</span>&#125;,</div><div class="line">            &#123;<span class="string">"s 5"</span>, <span class="string">"err"</span>, <span class="string">"err"</span>, <span class="string">"s 4"</span>, <span class="string">"err"</span>, <span class="string">"err"</span>&#125;,</div><div class="line">            &#123;<span class="string">"err"</span>, <span class="string">"s 6"</span>, <span class="string">"err"</span>, <span class="string">"err"</span>, <span class="string">"s 11"</span>, <span class="string">"err"</span>&#125;,</div><div class="line">            &#123;<span class="string">"err"</span>, <span class="string">"r 1"</span>, <span class="string">"s 7"</span>, <span class="string">"err"</span>, <span class="string">"r 1"</span>, <span class="string">"r 1"</span>&#125;,</div><div class="line">            &#123;<span class="string">"err"</span>, <span class="string">"r 3"</span>, <span class="string">"r 3"</span>, <span class="string">"err"</span>, <span class="string">"r 3"</span>, <span class="string">"r 3"</span>&#125;,</div><div class="line">            &#123;<span class="string">"err"</span>, <span class="string">"r 5"</span>, <span class="string">"r 5"</span>, <span class="string">"err"</span>, <span class="string">"r 5"</span>, <span class="string">"r 5"</span>&#125;</div><div class="line">    &#125;;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="title">LRS</span><span class="params">()</span> </span>&#123;</div><div class="line">        Scanner input = <span class="keyword">new</span> Scanner(System.in);</div><div class="line">        inputStr = input.nextLine().split(<span class="string">" "</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">getA</span><span class="params">(String str)</span> </span>&#123;</div><div class="line">        <span class="keyword">switch</span> (str) &#123;</div><div class="line">            <span class="keyword">case</span> <span class="string">"id"</span>: <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">            <span class="keyword">case</span> <span class="string">"+"</span>: <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">            <span class="keyword">case</span> <span class="string">"*"</span>: <span class="keyword">return</span> <span class="number">2</span>;</div><div class="line">            <span class="keyword">case</span> <span class="string">"("</span>: <span class="keyword">return</span> <span class="number">3</span>;</div><div class="line">            <span class="keyword">case</span> <span class="string">")"</span>: <span class="keyword">return</span> <span class="number">4</span>;</div><div class="line">            <span class="keyword">default</span>: <span class="keyword">return</span> <span class="number">5</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">private</span> String[][] goTo = &#123;</div><div class="line">            &#123;<span class="string">"1"</span>, <span class="string">"2"</span>, <span class="string">"3"</span>&#125;,</div><div class="line">            &#123;<span class="string">"err"</span>, <span class="string">"err"</span>, <span class="string">"err"</span>&#125;,</div><div class="line">            &#123;<span class="string">"err"</span>, <span class="string">"err"</span>, <span class="string">"err"</span>&#125;,</div><div class="line">            &#123;<span class="string">"err"</span>, <span class="string">"err"</span>, <span class="string">"err"</span>&#125;,</div><div class="line">            &#123;<span class="string">"8"</span>, <span class="string">"2"</span>, <span class="string">"3"</span>&#125;,</div><div class="line">            &#123;<span class="string">"err"</span>, <span class="string">"err"</span>, <span class="string">"err"</span>&#125;,</div><div class="line">            &#123;<span class="string">"err"</span>, <span class="string">"9"</span>, <span class="string">"3"</span>&#125;,</div><div class="line">            &#123;<span class="string">"err"</span>, <span class="string">"err"</span>, <span class="string">"10"</span>&#125;,</div><div class="line">            &#123;<span class="string">"err"</span>, <span class="string">"err"</span>, <span class="string">"err"</span>&#125;,</div><div class="line">            &#123;<span class="string">"err"</span>, <span class="string">"err"</span>, <span class="string">"err"</span>&#125;,</div><div class="line">            &#123;<span class="string">"err"</span>, <span class="string">"err"</span>, <span class="string">"err"</span>&#125;,</div><div class="line">            &#123;<span class="string">"err"</span>, <span class="string">"err"</span>, <span class="string">"err"</span>&#125;,</div><div class="line">    &#125;;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">getIndex</span><span class="params">(String str)</span> </span>&#123;</div><div class="line">        <span class="keyword">switch</span> (str) &#123;</div><div class="line">            <span class="keyword">case</span> <span class="string">"E"</span>: <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">            <span class="keyword">case</span> <span class="string">"T"</span>: <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">            <span class="keyword">default</span>: <span class="keyword">return</span> <span class="number">2</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">isNumeric</span><span class="params">(String str)</span></span>&#123;</div><div class="line">        Pattern pattern = Pattern.compile(<span class="string">"[0-9]*"</span>);</div><div class="line">        Matcher isNum = pattern.matcher(str);</div><div class="line">        <span class="keyword">return</span> isNum.matches();</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">private</span> LinkedList&lt;String&gt; stack = <span class="keyword">new</span> LinkedList&lt;&gt;();</div><div class="line">    <span class="keyword">private</span> LinkedList&lt;StateVal&gt; calStack = <span class="keyword">new</span> LinkedList&lt;&gt;();</div><div class="line">    <span class="function"><span class="keyword">private</span> String <span class="title">getNextString</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> inputStr[counter++];</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</div><div class="line">        String tempStr = expression[index][<span class="number">0</span>] + <span class="string">"-&gt;"</span> + expression[index][<span class="number">1</span>];</div><div class="line">        System.out.println(<span class="string">"按"</span> + tempStr.replaceFirst(<span class="string">"@"</span>, <span class="string">"id"</span>) + <span class="string">"规约"</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</div><div class="line">        System.out.println(<span class="string">"-1"</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">analysis</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="comment">//令next的值为第一个符号</span></div><div class="line">        String next = getNextString();</div><div class="line">        <span class="comment">//初始化栈</span></div><div class="line">        <span class="keyword">if</span> (next.charAt(<span class="number">0</span>) == <span class="string">'-'</span>) &#123;</div><div class="line">            <span class="keyword">this</span>.init();</div><div class="line">            <span class="keyword">return</span> ;</div><div class="line">        &#125;</div><div class="line">        stack.addLast(<span class="string">"0"</span>);</div><div class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</div><div class="line">            <span class="comment">//令state为栈顶的状态</span></div><div class="line">            <span class="keyword">int</span> state = Integer.parseInt(stack.getLast());</div><div class="line">            String[] tempArray = <span class="keyword">null</span>;</div><div class="line">            <span class="comment">//如果next为数字</span></div><div class="line">            <span class="keyword">if</span> (isNumeric(next)) &#123;</div><div class="line">                tempArray = action[state][getA(<span class="string">"id"</span>)].split(<span class="string">" "</span>);</div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                tempArray = action[state][getA(next)].split(<span class="string">" "</span>);</div><div class="line">            &#125;</div><div class="line">            <span class="comment">//如果为移进动作</span></div><div class="line">            <span class="keyword">if</span> (tempArray[<span class="number">0</span>].equals(<span class="string">"s"</span>)) &#123;</div><div class="line">                System.out.println(<span class="string">"移进"</span>);</div><div class="line">                <span class="comment">//把next和新状态依次压入栈</span></div><div class="line">                stack.addLast(next);</div><div class="line">                stack.addLast(tempArray[<span class="number">1</span>]);</div><div class="line">                <span class="comment">//给计算栈里压入数据</span></div><div class="line">                calStack.addLast(<span class="keyword">new</span> StateVal(next, next));</div><div class="line">                <span class="comment">//令next是下一个输入符号</span></div><div class="line">                next = getNextString();</div><div class="line">                <span class="comment">//如果为规约动作</span></div><div class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (tempArray[<span class="number">0</span>].equals(<span class="string">"r"</span>)) &#123;</div><div class="line">                <span class="comment">//栈顶退掉两倍的符号</span></div><div class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">2</span>*expression[Integer.parseInt(tempArray[<span class="number">1</span>])][<span class="number">1</span>].length(); i++) &#123;</div><div class="line">                    stack.removeLast();</div><div class="line">                &#125;</div><div class="line">                <span class="comment">//令temp是现在的栈顶状态</span></div><div class="line">                <span class="keyword">int</span> temp = Integer.parseInt(stack.getLast());</div><div class="line">                <span class="comment">//把非终结符和新状态压入栈</span></div><div class="line">                stack.addLast(expression[Integer.parseInt(tempArray[<span class="number">1</span>])][<span class="number">0</span>]);</div><div class="line">                <span class="comment">//更改计算栈的栈顶状态</span></div><div class="line">                <span class="keyword">int</span> top = calStack.size() - <span class="number">1</span>;</div><div class="line">                <span class="keyword">switch</span> (Integer.parseInt(tempArray[<span class="number">1</span>])) &#123;</div><div class="line">                    <span class="keyword">case</span> <span class="number">1</span>:</div><div class="line">                        calStack.get(top-<span class="number">2</span>).val = Integer.toString(</div><div class="line">                                Integer.parseInt(calStack.get(top-<span class="number">2</span>).val) +</div><div class="line">                                Integer.parseInt(calStack.get(top).val));</div><div class="line">                        <span class="comment">//相当于top-2</span></div><div class="line">                        calStack.removeLast();</div><div class="line">                        calStack.removeLast();</div><div class="line">                        <span class="keyword">break</span>;</div><div class="line">                    <span class="keyword">case</span> <span class="number">3</span>:</div><div class="line">                        calStack.get(top-<span class="number">2</span>).val = Integer.toString(</div><div class="line">                                Integer.parseInt(calStack.get(top-<span class="number">2</span>).val) *</div><div class="line">                                        Integer.parseInt(calStack.get(top).val));</div><div class="line">                        <span class="comment">//相当于top-2</span></div><div class="line">                        calStack.removeLast();</div><div class="line">                        calStack.removeLast();</div><div class="line">                        <span class="keyword">break</span>;</div><div class="line">                    <span class="keyword">case</span> <span class="number">5</span>:</div><div class="line">                        calStack.get(top-<span class="number">2</span>).val = Integer.toString(</div><div class="line">                                Integer.parseInt(calStack.get(top-<span class="number">1</span>).val));</div><div class="line">                        <span class="comment">//相当于top-2</span></div><div class="line">                        calStack.removeLast();</div><div class="line">                        calStack.removeLast();</div><div class="line">                        <span class="keyword">break</span>;</div><div class="line">                    <span class="keyword">default</span>:</div><div class="line">                        calStack.getLast().state = expression[Integer.parseInt(tempArray[<span class="number">1</span>])][<span class="number">0</span>];</div><div class="line">                        <span class="keyword">break</span>;</div><div class="line">                &#125;</div><div class="line">                stack.addLast(goTo[temp][getIndex(expression[Integer.parseInt(tempArray[<span class="number">1</span>])][<span class="number">0</span>])]);</div><div class="line">                <span class="comment">//输出产生式</span></div><div class="line">                print(Integer.parseInt(tempArray[<span class="number">1</span>]));</div><div class="line"></div><div class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (tempArray[<span class="number">0</span>].equals(<span class="string">"acc"</span>)) &#123;</div><div class="line">                System.out.println(<span class="string">"接受"</span>);</div><div class="line">                System.out.println(<span class="string">"计算结果为："</span> + calStack.getLast().val);</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            &#125;<span class="keyword">else</span> &#123;</div><div class="line">                System.out.println(<span class="string">"ERROR"</span>);</div><div class="line">                System.out.println(<span class="string">"请重新输入"</span>);</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">        LRS lrs = <span class="keyword">new</span> LRS();</div><div class="line">        lrs.analysis();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<h3 id="求first集"><a href="#求first集" class="headerlink" title="求first集"></a>求first集</h3><p>这份好像不是自己写的……其实写得不咋地，不过用Java语言写的也不多，姑且贴上来。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div><div class="line">223</div><div class="line">224</div><div class="line">225</div><div class="line">226</div><div class="line">227</div><div class="line">228</div><div class="line">229</div><div class="line">230</div><div class="line">231</div><div class="line">232</div><div class="line">233</div><div class="line">234</div><div class="line">235</div><div class="line">236</div><div class="line">237</div><div class="line">238</div><div class="line">239</div><div class="line">240</div><div class="line">241</div><div class="line">242</div><div class="line">243</div><div class="line">244</div><div class="line">245</div><div class="line">246</div><div class="line">247</div><div class="line">248</div><div class="line">249</div><div class="line">250</div><div class="line">251</div><div class="line">252</div><div class="line">253</div><div class="line">254</div><div class="line">255</div><div class="line">256</div><div class="line">257</div><div class="line">258</div><div class="line">259</div><div class="line">260</div><div class="line">261</div><div class="line">262</div><div class="line">263</div><div class="line">264</div><div class="line">265</div><div class="line">266</div><div class="line">267</div><div class="line">268</div><div class="line">269</div><div class="line">270</div><div class="line">271</div><div class="line">272</div><div class="line">273</div><div class="line">274</div><div class="line">275</div><div class="line">276</div><div class="line">277</div><div class="line">278</div><div class="line">279</div><div class="line">280</div><div class="line">281</div><div class="line">282</div><div class="line">283</div><div class="line">284</div><div class="line">285</div><div class="line">286</div><div class="line">287</div><div class="line">288</div><div class="line">289</div><div class="line">290</div><div class="line">291</div><div class="line">292</div><div class="line">293</div><div class="line">294</div><div class="line">295</div><div class="line">296</div><div class="line">297</div><div class="line">298</div><div class="line">299</div><div class="line">300</div><div class="line">301</div><div class="line">302</div><div class="line">303</div><div class="line">304</div><div class="line">305</div><div class="line">306</div><div class="line">307</div><div class="line">308</div><div class="line">309</div><div class="line">310</div><div class="line">311</div><div class="line">312</div><div class="line">313</div><div class="line">314</div><div class="line">315</div><div class="line">316</div><div class="line">317</div><div class="line">318</div><div class="line">319</div><div class="line">320</div><div class="line">321</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">import</span> java.util.*;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FirstFollow3</span> </span>&#123;</div><div class="line">    <span class="keyword">public</span> ArrayList&lt;String[]&gt; in=<span class="keyword">new</span> ArrayList&lt;String[]&gt;();<span class="comment">//在这存放的是拆分后最简单的文法，也是由用户输入</span></div><div class="line">    <span class="keyword">public</span> ArrayList&lt;String[]&gt; first = <span class="keyword">new</span> ArrayList&lt;String[]&gt;();<span class="comment">//包括左推导符和其First集</span></div><div class="line">    <span class="keyword">public</span> ArrayList&lt;String[]&gt; follow = <span class="keyword">new</span> ArrayList&lt;String[]&gt;();</div><div class="line">    <span class="keyword">public</span> ArrayList&lt;String[]&gt; track = <span class="keyword">new</span> ArrayList&lt;String[]&gt;();<span class="comment">//track有一条一条的非终结符串组成的路径数组</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">FirstFollow3</span><span class="params">()</span></span>&#123;</div><div class="line">        Scanner sc = <span class="keyword">new</span> Scanner(System.in);</div><div class="line">        System.out.println(<span class="string">"请分行输入一个完整文法:(end结束)"</span>);</div><div class="line">        String sline=<span class="string">""</span>;</div><div class="line">        sline=sc.nextLine();</div><div class="line">        <span class="keyword">while</span>(!sline.startsWith(<span class="string">"end"</span>))&#123;</div><div class="line">            StringBuffer buffer=<span class="keyword">new</span> StringBuffer(sline);</div><div class="line">            <span class="keyword">int</span> l=buffer.indexOf(<span class="string">" "</span>);</div><div class="line">            <span class="keyword">while</span>(l&gt;=<span class="number">0</span>)&#123;<span class="comment">//去空格</span></div><div class="line">                buffer.delete(l,l+<span class="number">1</span>);</div><div class="line">                l=buffer.indexOf(<span class="string">" "</span>);</div><div class="line">            &#125;</div><div class="line">            sline=buffer.toString();</div><div class="line">            String s[]=sline.split(<span class="string">"-&gt;"</span>);<span class="comment">//左推导符</span></div><div class="line">            <span class="keyword">if</span>(s.length==<span class="number">1</span>)</div><div class="line">                s=sline.split(<span class="string">"→"</span>);<span class="comment">//考虑到输入习惯和形式问题</span></div><div class="line">            <span class="keyword">if</span>(s.length==<span class="number">1</span>)</div><div class="line">                s=sline.split(<span class="string">"=&gt;"</span>);</div><div class="line">            <span class="keyword">if</span>(s.length==<span class="number">1</span>)&#123;</div><div class="line">                System.out.println(<span class="string">"文法有误"</span>);</div><div class="line">                System.exit(<span class="number">0</span>);</div><div class="line">            &#125;</div><div class="line">            StringTokenizer fx = <span class="keyword">new</span> StringTokenizer(s[<span class="number">1</span>],<span class="string">"|︱"</span>);<span class="comment">//按英文隔符拆开产生式或按中文隔符拆开</span></div><div class="line">            <span class="keyword">while</span>(fx.hasMoreTokens())&#123;</div><div class="line">                String[] one = <span class="keyword">new</span> String[<span class="number">2</span>];<span class="comment">//对于一个语句只需保存两个数据就可以了，语句左部和语句右部的一个简单导出式，假如有或符，就按多条存放</span></div><div class="line">                one[<span class="number">0</span>]=s[<span class="number">0</span>];<span class="comment">//头不变,0位置放非终结符</span></div><div class="line">                one[<span class="number">1</span>]=fx.nextToken();<span class="comment">//1位置放导出的产生式，就是产生式右部的一个最简单导出式</span></div><div class="line">                in.add(one);</div><div class="line">            &#125;</div><div class="line">            sline=sc.nextLine();</div><div class="line">        &#125;</div><div class="line"><span class="comment">//求First集过程</span></div><div class="line">        <span class="keyword">this</span>.process(<span class="string">"First"</span>);</div><div class="line"><span class="comment">/*</span></div><div class="line">* 打印First集算法和First集</div><div class="line">*/</div><div class="line">        System.out.println(<span class="string">"\nFirst集算法："</span>);</div><div class="line">        <span class="comment">//this.print(track);//打印First集算法</span></div><div class="line">        System.out.println(<span class="string">"\nFirst集："</span>);</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;first.size();i++)&#123;</div><div class="line">            String[] r=first.get(i);</div><div class="line">            System.out.print(<span class="string">"First("</span>+r[<span class="number">0</span>]+<span class="string">")=&#123;"</span>);</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;r.length;j++)&#123;</div><div class="line">                System.out.print(r[j]);</div><div class="line">                <span class="keyword">if</span>(j&lt;r.length-<span class="number">1</span>)</div><div class="line">                    System.out.print(<span class="string">","</span>);</div><div class="line">            &#125;</div><div class="line">            System.out.println(<span class="string">"&#125;"</span>);</div><div class="line">        &#125;</div><div class="line">        track.clear();<span class="comment">//因为下面还要用，这里就先清空了</span></div><div class="line">        <span class="comment">//求Follow集过程</span></div><div class="line">        <span class="keyword">this</span>.process(<span class="string">"Follow"</span>);</div><div class="line">        System.out.println(<span class="string">"\nFollow集算法："</span>);</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;track.size();i++)&#123;</div><div class="line">            String[] one = track.get(i);</div><div class="line">            System.out.print(<span class="string">"Follow("</span>+follow.get(i)[<span class="number">0</span>]+<span class="string">"):\t"</span>);</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;one.length;j++)</div><div class="line">                System.out.print(one[j]+<span class="string">"\t"</span>);</div><div class="line">            System.out.println();</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        System.out.println(<span class="string">"\nFollow集："</span>);</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;follow.size();i++)&#123;</div><div class="line">            String[] r=follow.get(i);</div><div class="line">            System.out.print(<span class="string">"Follow("</span>+r[<span class="number">0</span>]+<span class="string">")=&#123;"</span>);</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;r.length;j++)&#123;</div><div class="line">                System.out.print(r[j]);</div><div class="line">                <span class="keyword">if</span>(j&lt;r.length-<span class="number">1</span>)</div><div class="line">                    System.out.print(<span class="string">","</span>);</div><div class="line">            &#125;</div><div class="line">            System.out.println(<span class="string">"&#125;"</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">process</span><span class="params">(String firstORfollow)</span></span>&#123;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;in.size();i++)&#123;</div><div class="line">            <span class="keyword">boolean</span> bool=<span class="keyword">true</span>;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;i;j++)</div><div class="line">                <span class="keyword">if</span>(in.get(j)[<span class="number">0</span>].equals(in.get(i)[<span class="number">0</span>]))</div><div class="line">                    bool=<span class="keyword">false</span>;</div><div class="line">            <span class="keyword">if</span>(bool)&#123;</div><div class="line">                ArrayList&lt;String&gt; a=<span class="keyword">null</span>;</div><div class="line">                <span class="keyword">if</span>(firstORfollow.equals(<span class="string">"First"</span>))</div><div class="line">                    a=<span class="keyword">this</span>.getFirst(in.get(i)[<span class="number">0</span>],<span class="string">"First("</span>+in.get(i)[<span class="number">0</span>]+<span class="string">")/"</span>);</div><div class="line"><span class="comment">//                else if(firstORfollow.equals("Follow"))</span></div><div class="line"><span class="comment">//                    a=this.getFollow(in.get(i)[0],in.get(i)[0],"");</span></div><div class="line">                String[] sf = <span class="keyword">new</span> String[a.size()/<span class="number">2</span>+<span class="number">1</span>];</div><div class="line">                String[] st = <span class="keyword">new</span> String[a.size()/<span class="number">2</span>];</div><div class="line">                sf[<span class="number">0</span>]=in.get(i)[<span class="number">0</span>];</div><div class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;a.size(); j++)</div><div class="line">                &#123;</div><div class="line">                    <span class="keyword">if</span>(j%<span class="number">2</span>==<span class="number">0</span>)</div><div class="line">                        sf[j/<span class="number">2</span>+<span class="number">1</span>]=a.get(j);</div><div class="line">                    <span class="keyword">else</span></div><div class="line">                        st[j/<span class="number">2</span>]=a.get(j);</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">if</span>(firstORfollow.equals(<span class="string">"First"</span>))</div><div class="line">                    first.add(sf);<span class="comment">//first集</span></div><div class="line">                <span class="comment">//else if(firstORfollow.equals("Follow"))</span></div><div class="line">                 <span class="comment">//   follow.add(sf);</span></div><div class="line">                track.add(st);<span class="comment">//对应上面求得集的路径，在开始保存该非终结符了，因为已保存了该字符的First或Follow表示法</span></div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> ArrayList&lt;String&gt; <span class="title">getFirst</span><span class="params">(String s,String track1)</span></span>&#123;<span class="comment">//s表示左推导，track表示寻找路径，避免循环查找</span></div><div class="line">        ArrayList&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;String&gt;();</div><div class="line">        ArrayList&lt;String&gt; result1 = <span class="keyword">new</span> ArrayList&lt;String&gt;();</div><div class="line">        <span class="keyword">if</span>(Character.isUpperCase(s.charAt(<span class="number">0</span>)))&#123;<span class="comment">//如果是非终结符，大写</span></div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;in.size();i++)&#123;</div><div class="line">                String[] one = in.get(i);</div><div class="line">                <span class="keyword">if</span>(s.equals(one[<span class="number">0</span>]))&#123;</div><div class="line">                    <span class="keyword">if</span>(track1.substring(<span class="number">0</span>,track1.length()-<span class="number">9</span>).indexOf(<span class="string">"First("</span>+s+<span class="string">")"</span>)&gt;=<span class="number">0</span>)<span class="comment">//假如在查找过程嵌套了这步，证明进入了无限循环，不需再找，此路径无结果</span></div><div class="line">                        ;<span class="comment">//有点要注意一下，本来一开始就把第一个开始推导符的First路径放进去了的，所以要避开这一次，不然已开始就结束了</span></div><div class="line">                    <span class="keyword">else</span> <span class="keyword">if</span>(one[<span class="number">1</span>].length()==<span class="number">1</span>||one[<span class="number">1</span>].charAt(<span class="number">1</span>)!=<span class="string">'\''</span>&amp;&amp;one[<span class="number">1</span>].charAt(<span class="number">1</span>)!=<span class="string">'’'</span>)</div><div class="line">                        result1=getFirst(one[<span class="number">1</span>].charAt(<span class="number">0</span>)+<span class="string">""</span>,track1+<span class="string">"First("</span>+one[<span class="number">1</span>].charAt(<span class="number">0</span>)+<span class="string">")/"</span>);</div><div class="line">                    <span class="keyword">else</span> <span class="keyword">if</span>(one[<span class="number">1</span>].length()&gt;<span class="number">1</span>&amp;&amp;one[<span class="number">1</span>].charAt(<span class="number">1</span>)==<span class="string">'\''</span>||one[<span class="number">1</span>].charAt(<span class="number">1</span>)==<span class="string">'’'</span>)<span class="comment">//假如接下来一个要求First的非终结符带了一撇，那一撇包括英文表示和中文表示</span></div><div class="line">                        result1=<span class="keyword">this</span>.getFirst(one[<span class="number">1</span>].substring(<span class="number">0</span>,<span class="number">2</span>),track1+<span class="string">"First("</span>+one[<span class="number">1</span>].substring(<span class="number">0</span>,<span class="number">2</span>)+<span class="string">")/"</span>);</div><div class="line">                    result=addArrayString(result,result1);</div><div class="line">                    result1.clear();</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span>&#123;<span class="comment">//如果产生式首字符是终结字符</span></div><div class="line">            <span class="keyword">if</span>(s.equals(<span class="string">"ε"</span>))<span class="comment">//注意：表示空的字符只能是这种了，其他形式在这个编译器中不能通过，还请原谅</span></div><div class="line">                result1.add(<span class="string">"#"</span>);</div><div class="line">            <span class="keyword">else</span></div><div class="line">                result1.add(s);</div><div class="line">            result1.add(track1);<span class="comment">//为了方便，把路径也加入了结果集，不然可能路径不匹配，没办法，因为中间有删去重复项</span></div><div class="line">            result=result1;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> result;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> ArrayList&lt;String&gt; <span class="title">getFollow</span><span class="params">(String s,String element,String track1)</span></span>&#123;<span class="comment">//从右至左反推，不是求Follow的等价Follow，因为推到后面的反而范围大</span></div><div class="line">        ArrayList&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;String&gt;();</div><div class="line">        ArrayList&lt;String&gt; result1 = <span class="keyword">new</span> ArrayList&lt;String&gt;();</div><div class="line">        <span class="keyword">if</span>(Character.isUpperCase(s.charAt(<span class="number">0</span>)))&#123;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;in.size();i++)&#123;</div><div class="line">                String[] one = in.get(i);</div><div class="line">                <span class="keyword">int</span> slen=s.length();</div><div class="line">                <span class="keyword">int</span> olen=one[<span class="number">1</span>].length();</div><div class="line">                <span class="keyword">if</span>(element.equals(in.get(<span class="number">0</span>)[<span class="number">0</span>]))&#123;<span class="comment">//如果是开始符号，或是可以反推到开始符号，证明也可以顺推导开始符号</span></div><div class="line">                    result1.add(<span class="string">"#"</span>);</div><div class="line">                    result1.add(in.get(<span class="number">0</span>)[<span class="number">0</span>]+<span class="string">"→"</span>+in.get(<span class="number">0</span>)[<span class="number">0</span>]+<span class="string">"\t"</span>);</div><div class="line">                    result = addArrayString(result,result1);</div><div class="line">                    result1.clear();</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">if</span>(one[<span class="number">1</span>].indexOf(s)&gt;=<span class="number">0</span>&amp;&amp;track1.indexOf((<span class="keyword">char</span>)(<span class="string">'a'</span>+i)+<span class="string">""</span>)&gt;=<span class="number">0</span>)<span class="comment">//假如之前走过某一步，就不必再走了，那是死循环，之前在这语句前面加了个else,结果又部分内容显示不出来，总算发现了，就算反推到开始符号，也不一定就到结果了的，开始符号也可以反推，所以要继续</span></div><div class="line">                    ;</div><div class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(one[<span class="number">1</span>].indexOf(s)&gt;=<span class="number">0</span>&amp;&amp;(olen-slen==one[<span class="number">1</span>].indexOf(s)||slen==<span class="number">2</span>||one[<span class="number">1</span>].charAt(one[<span class="number">1</span>].indexOf(s)+<span class="number">1</span>)!=<span class="string">'’'</span>&amp;&amp;one[<span class="number">1</span>].charAt(one[<span class="number">1</span>].indexOf(s)+<span class="number">1</span>)!=<span class="string">'\''</span>))</div><div class="line">                &#123;<span class="comment">//如果在右产生式中真正存在需要求反推的字符,后面的条件控制它是真正存在，因为里面包含这个字符也不一定是真，就像E’中包含E，但这不是真正的包含</span></div><div class="line">                    <span class="keyword">int</span> index=-<span class="number">1</span>;</div><div class="line">                    index = one[<span class="number">1</span>].indexOf(s,<span class="number">0</span>);</div><div class="line">                    <span class="keyword">while</span>(index&gt;=<span class="number">0</span>)&#123;<span class="comment">//之前这没有用到循环，结果可能少点东西，仔细一想，必须要，就算是一个推导语句，也可能推出多个相同非终结符的组合，其实这也是一种特殊情况了，不考虑也可能正确了，也可能之前在其他地方把这样的结果求出来了，不求也没事，但就像假如要求T的Follow集，假如可以产生出T+a*T*b，这时还是有用的，万一吧</span></div><div class="line">                        <span class="keyword">if</span>(olen-slen==index)&#123;<span class="comment">//如果该非终结符在末尾，那么求导出该产生式的非终结符的倒推</span></div><div class="line">                            result1=getFollow(one[<span class="number">0</span>], element,track1+(<span class="keyword">char</span>)(<span class="string">'a'</span>+i));</div><div class="line">                            result=addArrayString(result,result1);</div><div class="line">                            result1.clear();</div><div class="line">                        &#125;<span class="keyword">else</span>&#123;<span class="comment">//如果后继非终结符在产生式中不是最后</span></div><div class="line">                            <span class="keyword">int</span> t=index+slen;<span class="comment">//指向在产生式非终结符s的后一个字符位置</span></div><div class="line">                            result1=returnFirstofFollow(s, element, track1, one[<span class="number">0</span>], one[<span class="number">1</span>], index, t);</div><div class="line">                            result=addArrayString(result,result1);<span class="comment">//之前也没写这句话，结果把之前的内容覆盖了，就是之前的数据丢失</span></div><div class="line">                            result1.clear();</div><div class="line">                        &#125;</div><div class="line">                        index = one[<span class="number">1</span>].indexOf(s,index+<span class="number">1</span>);</div><div class="line">                    &#125;<span class="comment">//endwhile</span></div><div class="line">                &#125;</div><div class="line">                <span class="keyword">if</span>(one[<span class="number">1</span>].endsWith(element))&#123;<span class="comment">//如果最开始要求的Follow集非终结符在末尾</span></div><div class="line">                    result1.add(<span class="string">"#"</span>);</div><div class="line">                    result1.add(in.get(<span class="number">0</span>)[<span class="number">0</span>]+<span class="string">"→"</span>+one[<span class="number">1</span>]+<span class="string">"\t"</span>);</div><div class="line">                    result=addArrayString(result,result1);<span class="comment">//之前也没写这句话，结果把之前的内容覆盖了，就是之前的数据丢失</span></div><div class="line">                    result1.clear();</div><div class="line">                &#125;</div><div class="line">            &#125;<span class="comment">//endfor</span></div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> result;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> ArrayList&lt;String&gt; <span class="title">returnFirstofFollow</span><span class="params">(String s,String element,String track1,String one0,String one1,<span class="keyword">int</span> index,<span class="keyword">int</span> t)</span></span>&#123;<span class="comment">//返回求Follow集中要求的First集部分</span></div><div class="line">        ArrayList&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;String&gt;();</div><div class="line">        ArrayList&lt;String&gt; result1 = <span class="keyword">new</span> ArrayList&lt;String&gt;();</div><div class="line">        ArrayList&lt;String &gt; beckFirst;</div><div class="line">        String lsh;<span class="comment">//记录下一个字符</span></div><div class="line">        <span class="keyword">if</span>(t+<span class="number">1</span>&lt;one1.length()&amp;&amp;(one1.charAt(t+<span class="number">1</span>)==<span class="string">'’'</span>||one1.charAt(t+<span class="number">1</span>)==<span class="string">'\''</span>))<span class="comment">//如果随后的非终结符还带了一撇符</span></div><div class="line">            lsh=one1.substring(t,t+<span class="number">2</span>);</div><div class="line">        <span class="keyword">else</span><span class="comment">//如果没带一撇,就只要截取一个字母就可以了</span></div><div class="line">            lsh=one1.substring(t,t+<span class="number">1</span>);</div><div class="line">        String[] ls = <span class="keyword">null</span>;</div><div class="line">        <span class="keyword">int</span> beflen=<span class="number">2</span>;</div><div class="line">        <span class="keyword">if</span>(track1.length()&gt;<span class="number">0</span>)&#123;<span class="comment">//这些都是为了算法输出容易理解点用的，其实要不输出这算法，要省下好多东西</span></div><div class="line">            ls=in.get((<span class="keyword">int</span>)(track1.charAt(track1.length()-<span class="number">1</span>)-<span class="string">'a'</span>));<span class="comment">//得到上一步调用的语句</span></div><div class="line">            <span class="keyword">if</span>(Character.isUpperCase(ls[<span class="number">1</span>].charAt(ls[<span class="number">1</span>].length()-<span class="number">1</span>)))</div><div class="line">                beflen=<span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">        beckFirst=<span class="keyword">this</span>.getFirst(lsh,<span class="string">"First("</span>+lsh+<span class="string">")/"</span>);<span class="comment">//相当于得到后继字符的First集</span></div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;beckFirst.size()/<span class="number">2</span>;j++)&#123;<span class="comment">//调用求First集，返回的不一定只一个结果</span></div><div class="line">            String lh=<span class="string">""</span>;</div><div class="line">            <span class="keyword">if</span>(beckFirst.get(j*<span class="number">2</span>).equals(<span class="string">"#"</span>))&#123;</div><div class="line">                result1.add(beckFirst.get(j*<span class="number">2</span>));<span class="comment">//这个加了是数据，下面一步就是把地址加上，就是一个结果，要两份数据</span></div><div class="line">                <span class="keyword">if</span>(ls==<span class="keyword">null</span>)</div><div class="line">                    lh=in.get(<span class="number">0</span>)[<span class="number">0</span>]+<span class="string">"→"</span>+one1+<span class="string">"→"</span>+one1.substring(<span class="number">0</span>,index)+element+<span class="string">"ε"</span>+one1.substring(t+lsh.length(),one1.length());</div><div class="line">                <span class="keyword">else</span></div><div class="line">                    lh=in.get(<span class="number">0</span>)[<span class="number">0</span>]+<span class="string">"→"</span>+one1+<span class="string">"→"</span>+one1.substring(<span class="number">0</span>,index)+ls[<span class="number">1</span>]+one1.substring(index+s.length(),one1.length())+<span class="string">"→."</span>+element+<span class="string">"ε"</span>+one1.substring(t+lsh.length(),one1.length());</div><div class="line">                result1.add(lh);</div><div class="line">                result=addArrayString(result,result1);</div><div class="line">                result1.clear();</div><div class="line">                <span class="keyword">if</span>(<span class="number">1</span>+index+lsh.length()&lt;one1.length())<span class="comment">//证明后面还有字符,为什么要这一步，打个比方把，假如要求F的Follow集，而存在产生式FPQ,而P的有个First集为空，那么得还接着求Q的First，类推，假如最后一个字符Q还是返回空，那么求要求产生式左边的推导非终结符的Follow集了，必须把这些结果都算到F的Follow集中去</span></div><div class="line">                    result1=returnFirstofFollow(s, element, track1, one0,one1, index, t+lsh.length());</div><div class="line">                <span class="keyword">else</span><span class="comment">//到最后,那么求要求产生式左边的推导非终结符的Follow集了，其实这和上面一种情况都很特殊了，一般用不上了</span></div><div class="line">                    result1=getFollow(one0, element, track1);</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">else</span>&#123;<span class="comment">//其实下面这一大坨都是为了易懂一点，Follow集算法清晰一点，好苦啊</span></div><div class="line">                <span class="keyword">if</span>(Character.isUpperCase(one1.charAt(t)))&#123;<span class="comment">//如果是有随后的一个非终结符的First集求出的结果</span></div><div class="line">                    <span class="keyword">if</span>(ls==<span class="keyword">null</span>)</div><div class="line">                        lh=in.get(<span class="number">0</span>)[<span class="number">0</span>]+<span class="string">"→"</span>+one1+<span class="string">"→"</span>+one1.substring(<span class="number">0</span>,index)+element+beckFirst.get(j*<span class="number">2</span>)+one1.substring(t+lsh.length(),one1.length());</div><div class="line">                    <span class="keyword">else</span></div><div class="line">                        lh=in.get(<span class="number">0</span>)[<span class="number">0</span>]+<span class="string">"→"</span>+one1+<span class="string">"→"</span>+one1.substring(<span class="number">0</span>,index)+ls[<span class="number">1</span>]+one1.substring(index+s.length(),one1.length())+<span class="string">"→."</span>+element+beckFirst.get(j*<span class="number">2</span>)+one1.substring(t+lsh.length(),one1.length());</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">else</span>&#123;<span class="comment">//如果不是大写，就是终结符了，那么用First集求出来的结果连接起来还是一样的，所以不要重复打印两次了</span></div><div class="line">                    <span class="keyword">if</span>(ls==<span class="keyword">null</span>)&#123;</div><div class="line">                        <span class="keyword">if</span>(element==in.get(<span class="number">0</span>)[<span class="number">0</span>]||s.equals(element))</div><div class="line">                            lh=in.get(<span class="number">0</span>)[<span class="number">0</span>]+<span class="string">"→"</span>+one1.substring(<span class="number">0</span>,index)+element+one1.substring(t,one1.length())+<span class="string">"\t"</span>;</div><div class="line">                        <span class="keyword">else</span></div><div class="line">                            lh=in.get(<span class="number">0</span>)[<span class="number">0</span>]+<span class="string">"→"</span>+one1+<span class="string">"→"</span>+one1.substring(<span class="number">0</span>,index)+element+one1.substring(t,one1.length())+<span class="string">"\t"</span>;</div><div class="line">                    &#125;</div><div class="line">                    <span class="keyword">else</span>&#123;</div><div class="line">                        <span class="keyword">if</span>(ls[<span class="number">1</span>].length()==<span class="number">1</span>||ls[<span class="number">1</span>].length()==<span class="number">2</span>&amp;&amp;!ls[<span class="number">1</span>].endsWith(<span class="string">"’"</span>)&amp;&amp;!ls[<span class="number">1</span>].endsWith(<span class="string">"\'"</span>))</div><div class="line">                            lh=in.get(<span class="number">0</span>)[<span class="number">0</span>]+<span class="string">"→"</span>+one1+<span class="string">"→"</span>+one1.substring(<span class="number">0</span>,index)+element+one1.substring(t,one1.length());</div><div class="line">                        <span class="keyword">else</span></div><div class="line">                            lh=in.get(<span class="number">0</span>)[<span class="number">0</span>]+<span class="string">"→"</span>+one1+<span class="string">"→"</span>+one1.substring(<span class="number">0</span>,index)+ls[<span class="number">1</span>]+one1.substring(index+s.length(),one1.length())+<span class="string">"→."</span>+element+one1.substring(t,one1.length())+<span class="string">"!"</span>;</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">                result1.add(beckFirst.get(j*<span class="number">2</span>));<span class="comment">//这个加了是数据，下面一步就是把地址加上，就是一个结果，要两份数据</span></div><div class="line">                result1.add(lh);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        result=addArrayString(result,result1);<span class="comment">//之前也没写这句话，结果把之前的内容覆盖了，就是之前的数据丢失</span></div><div class="line">        result1.clear();</div><div class="line">        <span class="keyword">return</span> result;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> ArrayList&lt;String&gt; <span class="title">addArrayString</span><span class="params">(ArrayList&lt;String&gt; a,ArrayList&lt;String&gt; b)</span></span>&#123;<span class="comment">//两个字符串数组相加</span></div><div class="line">        ArrayList&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;String&gt;();</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;a.size();i+=<span class="number">2</span>)&#123;<span class="comment">//因为这每一个结果，都保存了两个数据，第一个是结果，第二个位置保存的是得到这结果的路径</span></div><div class="line">            String s = a.get(i);</div><div class="line">            <span class="keyword">if</span>(result.contains(s)||s.equals(<span class="string">""</span>))&#123;<span class="comment">//如果结果集包含了这个字符串，就不加入结果集了，就是为了去掉重复项</span></div><div class="line">                <span class="keyword">int</span> index=result.indexOf(s);</div><div class="line">                <span class="keyword">if</span>(result.get(index+<span class="number">1</span>).length()&gt;a.get(i+<span class="number">1</span>).length())&#123;<span class="comment">//如果新来的路径比现有的短</span></div><div class="line">                    result.set(index, s);</div><div class="line">                    result.set(index+<span class="number">1</span>,a.get(i+<span class="number">1</span>));</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">continue</span>;</div><div class="line">            &#125;</div><div class="line">            result.add(s);</div><div class="line">            result.add(a.get(i+<span class="number">1</span>));<span class="comment">//还是要把路径继续保存在新的结果集中</span></div><div class="line">        &#125;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;b.size();i+=<span class="number">2</span>)&#123;</div><div class="line">            String s = b.get(i);</div><div class="line">            <span class="keyword">if</span>(result.contains(s)||s.equals(<span class="string">""</span>))&#123;</div><div class="line">                <span class="keyword">int</span> index=result.indexOf(s);</div><div class="line">                <span class="keyword">if</span>(result.get(index+<span class="number">1</span>).length()&gt;b.get(i+<span class="number">1</span>).length())&#123;<span class="comment">//如果新来的路径比现有的短</span></div><div class="line">                    result.set(index, s);</div><div class="line">                    result.set(index+<span class="number">1</span>,b.get(i+<span class="number">1</span>));</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">continue</span>;</div><div class="line">            &#125;</div><div class="line">            result.add(s);<span class="comment">//偶数地址存放的是数据</span></div><div class="line">            result.add(b.get(i+<span class="number">1</span>));<span class="comment">//奇数地址存放的是该数据获得的路径</span></div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> result;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">(ArrayList&lt;String[]&gt; list)</span></span>&#123;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;list.size();i++)&#123;<span class="comment">//循环非终结符个数次数</span></div><div class="line">            String[] one = list.get(i);<span class="comment">//得到某一个非终结符运行的所有路径</span></div><div class="line">            String[][] strings= <span class="keyword">new</span> String[one.length][];</div><div class="line">            String[] finals = <span class="keyword">new</span> String[one.length];<span class="comment">//路径最终站点</span></div><div class="line">            <span class="keyword">int</span> number=<span class="number">0</span>;<span class="comment">//记录某一步最终有效站点个数，本来有几条路径，就因该有几个有效站点，但可能有些站点有重复的，即从同一站点发出</span></div><div class="line">            <span class="keyword">int</span> max=<span class="number">0</span>;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;one.length;j++)&#123;</div><div class="line">                strings[j]=one[j].split(<span class="string">"/"</span>);</div><div class="line">                <span class="keyword">if</span>(strings[j].length&gt;max)</div><div class="line">                    max=strings[j].length;<span class="comment">//求得某一非终结符路径最长一条</span></div><div class="line">            &#125;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;max;j++)&#123;<span class="comment">//循环最长站点次数</span></div><div class="line">                number=<span class="number">0</span>;</div><div class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">0</span>;k&lt;strings.length;k++)&#123;<span class="comment">//有多少条路径就循环多少次</span></div><div class="line">                    String lsh=<span class="string">""</span>;</div><div class="line">                    <span class="keyword">if</span>(j&gt;=strings[k].length)&#123;</div><div class="line">                        lsh=strings[k][strings[k].length-<span class="number">1</span>];</div><div class="line">                    &#125;<span class="keyword">else</span> &#123;</div><div class="line">                        lsh=strings[k][j];</div><div class="line">                    &#125;</div><div class="line">                    <span class="keyword">int</span> m=<span class="number">0</span>;</div><div class="line">                    <span class="keyword">for</span>(m=<span class="number">0</span>;m&lt;number;m++)&#123;<span class="comment">//记录有效站点</span></div><div class="line">                        <span class="keyword">if</span>(lsh.equals(finals[m]))</div><div class="line">                            <span class="keyword">break</span>;</div><div class="line">                    &#125;</div><div class="line">                    <span class="keyword">if</span>(m==number)&#123;</div><div class="line">                        finals[number]=lsh;</div><div class="line">                        number++;</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">0</span>;k&lt;number;k++)&#123;<span class="comment">//打印每一条路径的某个站点</span></div><div class="line">                    System.out.print(finals[k]);</div><div class="line">                    <span class="keyword">if</span>(k!=number-<span class="number">1</span>)</div><div class="line">                        System.out.print(<span class="string">" + "</span>);</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">if</span>(j&lt;max-<span class="number">1</span>)</div><div class="line">                    System.out.print(<span class="string">" = "</span>);</div><div class="line">            &#125;</div><div class="line">            System.out.println();</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</div><div class="line">        <span class="keyword">new</span> FirstFollow3();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

      
    </div>
    
  </div>
  
    
<nav id="article-nav">
  
    <a href="/category/bilibili多进程爬虫/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption"><</strong>
      <div class="article-nav-title">
        
          bilibili多进程爬虫
        
      </div>
    </a>
  
  
    <a href="/category/数据结构上机题（二）（C++语言）/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">数据结构上机题（二）（C++语言）</div>
      <strong class="article-nav-caption">></strong>
    </a>
  
</nav>

  
</article>


<div class="share_jia">
	<!-- JiaThis Button BEGIN -->
	<div class="jiathis_style">
		<span class="jiathis_txt">Share to: &nbsp; </span>
		<a class="jiathis_button_facebook"></a> 
    <a class="jiathis_button_twitter"></a>
    <a class="jiathis_button_plus"></a> 
    <a class="jiathis_button_tsina"></a>
		<a class="jiathis_button_cqq"></a>
		<a class="jiathis_button_douban"></a>
		<a class="jiathis_button_weixin"></a>
		<a class="jiathis_button_tumblr"></a>
    <a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	</div>
	<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=1405949716054953" charset="utf-8"></script>
	<!-- JiaThis Button END -->
</div>






<div class="duoshuo">
	<!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="编译技术上机题不完全汇总（Java版）" data-title="编译技术上机题不完全汇总（Java版）" data-url="http://heli06.github.io/category/编译技术上机题不完全汇总（Java版）/"></div>
	<!-- 多说评论框 end -->
	<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"heli06"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
	<!-- 多说公共JS代码 end -->
</div>




</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2018 鸑鷟
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false,
		root: /
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>